{% assign category = include.category %}
{% assign featured_posts = site.posts | where: "featured", "true" | where_exp: "post", "post.categories contains category" %}

{% if featured_posts.size > 0 %}
    <br>

    <div class="container featured-posts">
        {% assign is_even = featured_posts.size | modulo: 2 %}
        <div class="row row-cols-{% if featured_posts.size <= 2 or is_even == 0 %}2{% else %}3{% endif %}">
            {% for post in featured_posts %}
                {% include featured_posts/single.liquid post=post%}
            {% endfor %}
        </div>
    </div>

    <hr>

{% endif %}